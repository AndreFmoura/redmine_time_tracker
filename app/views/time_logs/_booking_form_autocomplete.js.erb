<% unless time_log.nil? %>

$(function () {
    $('#time_log_add_booking_<%= time_log.id.to_s %>_issue_id').autocomplete({
        source:'tt_completer/get_issue.json?key=<%= key %>',
        minLength:0,
        select:function (event, ui) {
            $('#time_log_add_booking_<%= time_log.id.to_s %>_issue_id').val(ui.item.value);
            redmine_time_tracker.TimeTracker.updateBookingProject('<%= key %>', 'time_log_add_booking_<%= time_log.id.to_s %>');
        }
    });
});

$(document).ready(function() {
    redmine_time_tracker.TimeTracker.validate_list_inputs('time_log_add_booking_<%= time_log.id.to_s %>');
});
<% end %>